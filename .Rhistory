-0.07+1.96*sqrt(0.45*(0.55)/560+0.52*0.48/1100)
(0.45*500+0.52*1100)/1600
-0.07/(sqrt(0.496*(1/500+1/1100)))
-0.07/(sqrt(0.496*(1-0.496)(1/500+1/1100)))
-0.07/(sqrt(0.496*(1-0.496)*(1/500+1/1100)))
sqrt(38.7*38.7/30+23.2*23.2/50)
(38.7*38.7/30+23.2*23.2/50)
(38.7/30+23.2/50)
(73.1-76.0)+2.01*sqrt(1.754)
(73.1-76.0)-2.01*sqrt(1.754)
(0.52-0.68)+1.96*sqrt(0.68*(1-0.68)/1000+0.52*0.48/2000)
(0.52-0.68)-1.96*sqrt(0.68*(1-0.68)/1000+0.52*0.48/2000)
P = (680+1040)/3000
P
0.16/(sqrt(P*(1-P)*(1/1000+1/2000)))
-10+1.96*sqrt(100/250+150/400)
-10-1.96*sqrt(100/250+150/400)
s2 = (250*100+400*150)/650
s2
10/sqrt(s2)
s2 = (249*100+399*150)/648
s2
10/sqrt(s2/250+s2/400)
0.03+1.96*sqrt(0.55*0.45/100+0.42*0.48/200)
-0.03+1.96*sqrt(0.55*0.45/100+0.42*0.48/200)
-0.03+1.96*sqrt(0.55*0.45/100+0.42*0.58/200)
-0.13+1.96*sqrt(0.55*0.45/100+0.42*0.58/200)
-0.1311.96*sqrt(0.55*0.45/100+0.42*0.58/200)
-0.13-1.96*sqrt(0.55*0.45/100+0.42*0.58/200)
(10/25+15/80)^2
(10/25+15/80)^2/(((10/25)^2)/(24)+(15/80)^2/(79))
10+2.68*sqrt(10/25+15/80)
10-2.68*sqrt(10/25+15/80)
source("http://bioconductor.org/biocLite.R")
biocLite("graph")
install.packages("gRain")
help(gRain)
help("gRain")
help(package="gRain")
#kaggele competition
#Rahim delaviz
#setwd("/Domain/tudelft.net/Users/rdelavizaghbolagh/Coursera/DataScience/kaggle/titanic")
setwd("/Users/rahimdelaviz/Coursera/IntroDataScience/courseMaterial/kaggle/titanic")
inputTrainFile = "./data/train.csv"
trainData = read.csv(inputTrainFile)
inputTestFile = "./data/test.csv"
testData = read.csv(inputTestFile)
library(hash)
install.packages("hash")
library(hash)
?hash
hash()
hash(key=c(1,"femal"), values=c(0,0))
c(hash(key=c(1,"femal"), values=c(0,0)))
c
bb <- c(hash(key=c(1,"femal"), values=c(0,0)))
bb
bb[[1]]
bb[[1]].keys()
bb[[1]]$(1,"femal")
bb[[1]]$[[(1,"femal")]]
bb[[1]]$[(1,"femal")]
h <- bb[[1]]
class(h)
h
h$1
h[[1]]
hash( c("foo","bar","baz"), 1:3 )
hash( list("foo","bar","baz"), 1 )
h <- hash( list("foo","bar","baz"), 1 )
h["foo"]
h <- hash( hash("foo","bar","baz"), 1 )
h <- hash( tuple("foo","bar","baz"), 1 )
h <- hash( ["foo","bar","baz"], 1 )
install.packages("rdict")
library(rdict)
price <- rep(c(10,20,30,512), 6)
sexType <- rep(c("female", "male"), 12)
cabin <- rep(c(1,2,3), 8)
survivalCount <- rep(0,24)
deathCount <- rep(0,24)
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
print(trainData[i,]$survived)
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]
}
else {
print (subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount)))
}
}
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]
}
else {
print (subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount)))
}
}
}
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]
}
else {
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount))$deatCount
}
}
}
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]$survivalCount <- t+1
}
else {
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount))$deatCount
}
}
}
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
#print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
#t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]$survivalCount <- t+1
print(dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]$survivalCount)
}
else {
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount))$deatCount
}
}
}
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
#print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
#t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]$survivalCount <- t+1
print(dicDataFrame[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]$survivalCount)
}
else {
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount))$deatCount
}
}
}
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
#print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
#t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]$survivalCount <- t+1
print(dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare])
}
else {
t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(deathCount))$deatCount
}
}
}
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
#print(trainData[i,]$survived)
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
#dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount #<- dicDataFrame[dicDataFrame$sex==sex,dicDataFrame$cabin==passengerClass]$survivalCount+1
#print(trainData[i,]$survived)
#t <- subset (dicDataFrame, sex==sex & cabin==passengerClass & price==fare, select = c(survivalCount))$survivalCount
#dicDataFrame[dicDataFrame$sex==sex & cabin==passengerClass & price==fare]$survivalCount <- t+1
t <- dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
else {
t <- dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
}
}
dicDataFrame
trainData[trainData$sex=="male"]
trainData[trainData$sex=="male",]
trainData[trainData$sex=="male",]$sex
trainData[trainData$sex=="male" & trainData$pclass==1]
trainData[trainData$sex=="male" & trainData$pclass==1,]
trainData[trainData$sex=="male" & trainData$pclass==1 7 trainData$fare <20,]
trainData[trainData$sex=="male" & trainData$pclass==1 & trainData$fare <20,]
dicDataFrame
price <- c(rep(c(10), 6),rep(c(20), 6), rep(c(30), 6), rep(c(512), 6) )
price
sexType <- c(rep(c("female"), 12), rep(c("male"), 12))
cabin <- c(rep(c(1, 8)), rep(c(2, 8)), rep(c(3, 8)) )
price <- c(rep(c(10), 6),rep(c(20), 6), rep(c(30), 6), rep(c(512), 6) )
sexType <- c(rep(c("female"), 12), rep(c("male"), 12))
cabin <- c(rep(c(1, 8)), rep(c(2, 8)), rep(c(3, 8)) )
survivalCount <- rep(0,24)
deathCount <- rep(0,24)
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
t <- dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
else {
t <- dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
}
}
dicDataFrame
cabin
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
t <- dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
else {
t <- dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
}
}
dicDataFrame
rep(c(1), 8)
cabin
cabin <- c(rep(c(1), 8), rep(c(2), 8), rep(c(3), 8) )
cabin
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
cabin <- c(rep(c(1), 8), rep(c(2), 8), rep(c(3), 8) )
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
dicDataFrame
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
t <- dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
else {
t <- dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
}
}
dicDataFrame
price <- c()
sexType <- c()
cabin <- c()
for ( i in c(10,20,30,512)){
for (j in c("male","female")){
for ( k in c(1,2,3)){
price <- c(price,i)
sexType <- c(sexType,j)
cabin <- c(cabin,k)
}
}
}
cabin
survivalCount <- rep(0,24)
deathCount <- rep(0,24)
dicDataFrame <- data.frame("price" = price, "sex"=sexType, "cabin"=cabin,
"survivalCount"=survivalCount, "deathCount" = deathCount)
dicDataFrame
for (i in 1:length(trainData[,1])){
#print(trainData[i,])
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
if (!is.na(trainData[i,]$survived)){
if (trainData[i,]$survived==1){
t <- dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$survivalCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
else {
t <- dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
dicDataFrame$deathCount[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare] <- t+1
}
}
}
dicDataFrame
1/0
rurvinaRatio <- dicDataFrame$survivalCount / (dicDataFrame$survivalCount+dicDataFrame$deathCount)
srurvinaRatio <- dicDataFrame$survivalCount / (dicDataFrame$survivalCount+dicDataFrame$deathCount)
srurvivalRatio <- dicDataFrame$survivalCount / (dicDataFrame$survivalCount+dicDataFrame$deathCount)
srurvivalRatio
srurvivalRatio <- dicDataFrame$survivalCount / (dicDataFrame$survivalCount+dicDataFrame$deathCount)
survivalRatio <- dicDataFrame$survivalCount / (dicDataFrame$survivalCount+dicDataFrame$deathCount)
dicDataFrame <- (dicDataFrame, "survivalRatio"= survivalRatio)
dicDataFrame <- c(dicDataFrame, "survivalRatio"= survivalRatio)
testSurvived <- c()
dicDataFrame
names(dicDataFrame)
dicDataFrame <- data.frame(dicDataFrame, "survivalRatio"= survivalRatio)
dicDataFrame
dicDataFrame <- data.frame(dicDataFrame, "survivalRatio"= survivalRatio)
dicDataFrame$survivalRatio
testSurvived <- c()
for (i in 1:length(testData[,1])){
fare <- trainData[i,]$fare
if (trainData[i,]$fare <10)
fare = 10
else if(trainData[i,]$fare <20)
fare = 20
else if (trainData[i,]$fare <30)
fare = 30
else
fare=512
sex <- trainData[i,]$sex
passengerClass <- trainData[i,]$pclass
s <- dicDataFrame$survivalRatio[dicDataFrame$sex==sex & dicDataFrame$cabin==passengerClass & dicDataFrame$price==fare]
if (is.na(s)){
if (sex=="female")
testSurvived <- c(testSurvived,1)
else
testSurvived <- c(testSurvived,0)
}
else if (s < 0.5)
testSurvived <- c(testSurvived,0)
else
testSurvived <- c(testSurvived,1)
}
testSurvived
length(testSurvived)
dim(testData)
names(testData)
inputTestFile = "./data/test.csv"
testData = read.csv(inputTestFile)
names(testData)
testData$Survived <- NULL
testData <- data.frame("survived"=testSurvived, testData)
testData
names(testData)
write.csv(t, "./data/combinedModelR.csv", row.names=F)
write.csv(testData, "./data/combinedModelR.csv", row.names=F)
